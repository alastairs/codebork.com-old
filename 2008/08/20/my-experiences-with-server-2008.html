<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CodeBork | My experiences with Server 2008</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="My experiences with Server 2008">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://codebork.com/2008/08/20/my-experiences-with-server-2008.html">
  <meta property="og:description" content="">
  <meta property="og:site_name" content="CodeBork">
  <meta property="og:image" content="http://codebork.com/assets/og-image.jpg">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="http://codebork.com/2008/08/20/my-experiences-with-server-2008.html">
  <meta name="twitter:title" content="My experiences with Server 2008">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="http://codebork.com/assets/og-image.jpg">

  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
  <link href="http://codebork.comfeed.xml" type="application/rss+xml" rel="alternate" title="CodeBork Last 10 blog posts" />

  
    <link type="text/css" rel="stylesheet" href="/assets/light.css">
  
</head>

<body>
  <main role="main">
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav reveal">
  <a href="/" class="header-logo" title="CodeBork">CodeBork</a>
  <ul class="header-links">
    
      <li>
        <a href="http://twitter.com/alastairs" target="_blank" title="Twitter">
          <span class="icon icon-social-twitter"></span>
        </a>
      </li>
    
    
    
      <li>
        <a href="alastairs" target="_blank" title="GitHub">
          <span class="icon icon-social-github"></span>
        </a>
      </li>
    
    
    
    
    
      <li>
        <a href="mailto:codebork@alastairsmith.me.uk" target="_blank" title="Email">
          <span class="icon icon-at"></span>
        </a>
      </li>
    
    
      <li>
        <a href="/feed.xml" target="_blank" title="RSS">
          <span class="icon icon-social-rss"></span>
        </a>
      </li>
    
  </ul>
</nav>

        <article class="article reveal">
          <header class="article-header">
            <h1>My experiences with Server 2008</h1>
            <p></p>
            <div class="article-list-footer">
              <span class="article-list-date">
                August 20, 2008
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  4 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <p>I’ve recently been reconfiguring my home network to utilise a Windows domain.  As I’ve improved my home development environment, I’ve started needing to make greater use of network shares and things, and running a mixed-OS environment as I do, I have inevitably run into some problems with credentials.  <strong>This is the first post in a two-part series</strong>; this post will describe my initial experiences configuring my domain, whilst <a href="http://www.alastairsmith.me.uk/science-and-technology/2008/08/20/linux-and-server-2008-active-directory.html" title="Linux and Server 2008 Active Directory">the second post</a> will focus on getting Ubuntu and Fedora Core 7 talking to my domain.
<!--break-->
After solving some rather annoying hardware issues and (thankfully, in hindsight) dropping my previous plan to deploy Xen as my hypervisor<sup><a href="#footnote1" title="Footnote 1" id="footnote1link">1</a></sup>, I started installing Windows Server 2008.  I chose this most recent version of Windows Server for a couple of reasons:&lt;ol&gt;&lt;li&gt;I’ve used it at work and quite like it&lt;/li&gt;</p>
<li>There are some changes from Server 2003 that I wanted to get to know better</li>
<li>It would be a useful learning experience.</li>
<p>&lt;/ol&gt;</p>

<p>Running a four-core AMD rig with 4GB RAM as I am, I opted for the x64 version.  Installation was painless (Microsoft have done wonders with their Operating System installers for both Vista and Server 2008) and very soon I had a basic installation running.  A few tweaks later and BAM BAM BAM BAM BAM! I had <abbr title="Active Directory Domain Services">AD DS</abbr>, <abbr title="Active Directory Certificate Services">AD CS</abbr>, <abbr title="Internet Information Services">IIS</abbr> 7, File Services and <abbr title="Domain Name System">DNS</abbr> installed and configured.  The server roles really are an effective way of simplifying the configuration of some complex network infrastructure, like Active Directory.  In Windows 2000 Server, Active Directory was a scary, monolithic beast; in Windows Server 2008, it’s smooth, streamlined and well tamed.</p>

<p>Later on, I realised that I’d missed a role: <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr>.  This is something with which I’ve never had any experience configuring, but the role installation wizard walked me through the minefield with a clear map of the way forward.  Very quickly, I had Server 2008 dishing out IP addresses to the rest of my network left, right and centre, and confirmed this by turning off the DHCP on my router.  Copying over the address reservations from the router to Server 2008 also proved very easy, with the only small hiccough being that the MAC address box in Server 2008 doesn’t accept any byte delimiters (so colons are right out).</p>

<p>The next step was to install VMware Server for running virtual machines.  I quickly found that VMware Server 1.0.x is not supported on Vista and Server 2008, so my only option was to download the beta of Server 2.0.  This is very different from the 1.0.x versions that I’m used to, with management now handled through a web interface rather than a console program.  Accessing the web interface proved to be a bit of a bitch for no good reason, but after playing around with the Windows firewall and ensuring that all the VMware services were running, it started to play ball<sup><a href="#footnote2" title="Footnote 2" id="footnote2link">2</a></sup>.</p>

<p>The next step was to move my existing Fedora Core 7 VM (which hosts this blog, and most of my development tools, such as my <a href="http://subversion.tigris.org/" title="Subversion homepage">Subversion</a> repositories, <a href="http://trac.edgewall.org/" title="Trac homepage">Trac environments</a> and <a href="http://ccnet.thoughtworks.com/" title="Cruise Control.NET homepage">Cruise Control</a> log files) to the new VMware server.  This was accomplished really very painlessly, as would be expected, despite the fact that I was moving the VM from a 1.0.x to a 2.0b host.  I simply copied over the VM’s files (~15 mins for over 40GB thanks to my Gigabit Ethernet subnet), imported the VM into the VMware Server inventory and hit “power on”.  I <em>love</em> server virtualisation<sup><a href="#footnote3" title="Footnote 3" id="footnote3link">3</a></sup> :-)</p>

<p>Finally, I got around to creating a set of new VMs.  These are running Vista and Ubuntu (both x86 due to the small amount of memory I can allocate them), and Windows Server is still responsive.  I guess that’s because I’ve still got 1 core and ~2GB RAM to throw at running it.  It definitely took a hit when I was running two further VMs (Vista and Ubuntu x64), and VMware Server kept suspending one or more of the VMs due to lack of resources.  This was mildly disappointing given the grunt I’ve thrown at the machine, but not hugely surprising given that the Vista VMs were consuming 2-3GB RAM between them.</p>

<p>The <a href="http://www.alastairsmith.me.uk/science-and-technology/2008/08/20/linux-and-server-2008-active-directory.html" title="Linux and Server 2008 Active Directory">next post</a> will focus on setting up my Ubuntu and Fedora VMs to work with the Active Directory Domain.</p>
<hr />

<p id="footnote1"><sup>1</sup> Thankfully, as I realised soon after starting to install Windows Server 2008 that if I hadn't done this, all my data would have been tied up in a VHD file.  Not good.  <a href="#footnote1link">Back to article.</a></p>
<p id="footnote2"><sup>2</sup> You'd be right to wonder what on Earth I'm doing running a VMware server on an Active Directory Primary Domain Controller.  Indeed, VMware warn against this in their installer.  However, this mostly applies to environments where the Domain Controller is going to be under load and need it to remain responsive.  With the VMs shut down, the Domain Controller runs effectively idle with very little in the way of CPU load, and relatively standard RAM load.  <a href="#footnote2link">Back to article.</a></p>
<p id="footnote3"><sup>3</sup> And even working for the second biggest player in the server virtualisation field, exposed to the technology on a daily basis, I'm still impressed by it!  <a href="#footnote3link">Back to article.</a></p>

          </div>

          <div class="article-share">
            
            <a href="" title="Share on Twitter" onclick="window.open('https://twitter.com/home?status=My experiences with Server 2008 - http://codebork.com/2008/08/20/my-experiences-with-server-2008.html by @alastairs', 'newwindow', 'width=500, height=225'); return false;">
              <span class="icon icon-social-twitter"></span>
            </a>
            <a href="" title="Share on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=http://codebork.com/2008/08/20/my-experiences-with-server-2008.html', 'newwindow', 'width=500, height=500'); return false;">
              <span class="icon icon-social-facebook"></span>
            </a>
            <a href="" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=http://codebork.com/2008/08/20/my-experiences-with-server-2008.html', 'newwindow', 'width=550, height=400'); return false;">
              <span class="icon icon-social-googleplus"></span>
            </a>
          </div>

          
        </article>
        <footer class="footer reveal">
  <p>
    Chalk is a high quality, completely customisable, performant and 100% free
    blog template for Jekyll built by
    <a href="/about" title="About me">Nielsen Ramon</a>. Download it <a href="https://github.com/nielsenramon/chalk" target="_blank" title="Download Chalk">here</a>.
  </p>
</footer>

      </div>
    </div>
  </main>
  <script type="text/javascript" src="/assets/vendor.js"></script>
<script type="text/javascript" src="/assets/application.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Cormorant Garamond:700', 'Lato:300,400,700']
    }
  });
</script>



</body>
</html>
